<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Using the LibBi wrapper to launch LibBi — run • rbi</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using the LibBi wrapper to launch LibBi — run"><meta name="description" content="The method run launches LibBi with a particular set of command
  line arguments. Normally, this function would not be run by the user,
  but instead one of the client functions sample,
  filter, or optimise, or rewrite,
  which pass any options on to run. Note that any options specified
  here are stored in the libbi object and do not have to be
  specified again if another command is run on the object."><meta property="og:description" content="The method run launches LibBi with a particular set of command
  line arguments. Normally, this function would not be run by the user,
  but instead one of the client functions sample,
  filter, or optimise, or rewrite,
  which pass any options on to run. Note that any options specified
  here are stored in the libbi object and do not have to be
  specified again if another command is run on the object."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rbi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/rbi.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Examples</h6></li>
    <li><a class="dropdown-item" href="../articles/idd_models.html">Collection of SIR models for LibBi</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sbfnk/rbi/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Using the LibBi wrapper to launch LibBi</h1>
      <small class="dont-index">Source: <a href="https://github.com/sbfnk/rbi/blob/main/R/libbi.R" class="external-link"><code>R/libbi.R</code></a></small>
      <div class="d-none name"><code>run.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The method <code>run</code> launches <code>LibBi</code> with a particular set of command
  line arguments. Normally, this function would not be run by the user,
  but instead one of the client functions <code><a href="sample.html">sample</a></code>,
  <code><a href="filter.html">filter</a></code>, or <code><a href="optimise.html">optimise</a></code>, or <code><a href="rewrite.html">rewrite</a></code>,
  which pass any options on to <code>run</code>. Note that any options specified
  here are stored in the <code><a href="libbi.html">libbi</a></code> object and do not have to be
  specified again if another command is run on the object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'libbi'</span></span>
<span><span class="fu">run</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">client</span>,</span>
<span>  proposal <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"model"</span>, <span class="st">"prior"</span><span class="op">)</span>,</span>
<span>  <span class="va">model</span>,</span>
<span>  <span class="va">fix</span>,</span>
<span>  <span class="va">config</span>,</span>
<span>  log_file_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  <span class="va">init</span>,</span>
<span>  <span class="va">input</span>,</span>
<span>  <span class="va">obs</span>,</span>
<span>  time_dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  coord_dims <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">thin</span>,</span>
<span>  <span class="va">output_every</span>,</span>
<span>  chain <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  debug <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>a <code><a href="libbi.html">libbi</a></code> object; if this is not given, an empty
<code><a href="libbi.html">libbi</a></code> object will be created</p></dd>


<dt id="arg-client">client<a class="anchor" aria-label="anchor" href="#arg-client"></a></dt>
<dd><p>client to pass to LibBi</p></dd>


<dt id="arg-proposal">proposal<a class="anchor" aria-label="anchor" href="#arg-proposal"></a></dt>
<dd><p>proposal distribution to use; either "model" (default:
proposal distribution in the model) or "prior" (propose from the prior
distribution)</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>either a character vector giving the path to a model file
(typically ending in ".bi"), or a <code>bi_model</code> object; by default, will
use any model given in <code>x</code></p></dd>


<dt id="arg-fix">fix<a class="anchor" aria-label="anchor" href="#arg-fix"></a></dt>
<dd><p>any variable to fix, as a named vector</p></dd>


<dt id="arg-config">config<a class="anchor" aria-label="anchor" href="#arg-config"></a></dt>
<dd><p>path to a configuration file, containing multiple arguments</p></dd>


<dt id="arg-log-file-name">log_file_name<a class="anchor" aria-label="anchor" href="#arg-log-file-name"></a></dt>
<dd><p>path to a file to text file to report the output of
<code>LibBi</code>; if set to an empty vector (<code>character(0)</code>) or an empty
string (""), which is the default, a temporary log file will be generated</p></dd>


<dt id="arg-init">init<a class="anchor" aria-label="anchor" href="#arg-init"></a></dt>
<dd><p>initialisation of the model, either supplied as a list of values
and/or data frames, or a (netcdf) file name, or a <code><a href="libbi.html">libbi</a></code>
object which has been run (in which case the output of that run is used).
If the object given as <code>x</code> has been run before, it will be used here
with <code>init-np</code> set to the last iteration of the previous run, unless
<code>init</code> is given explicitly.</p></dd>


<dt id="arg-input">input<a class="anchor" aria-label="anchor" href="#arg-input"></a></dt>
<dd><p>input of the model, either supplied as a list of values and/or
data frames, or a (netcdf) file name, or a <code><a href="libbi.html">libbi</a></code> object which
has been run (in which case the output of that run is used as input)</p></dd>


<dt id="arg-obs">obs<a class="anchor" aria-label="anchor" href="#arg-obs"></a></dt>
<dd><p>observations of the model, either supplied as a list of values
and/or data frames, or a (netcdf) file name, or a <code><a href="libbi.html">libbi</a></code>
object which has been run (in which case the output of that run is used as
observations)</p></dd>


<dt id="arg-time-dim">time_dim<a class="anchor" aria-label="anchor" href="#arg-time-dim"></a></dt>
<dd><p>The time dimension in any R objects that have been passed
(<code>init</code>, <code>input</code>) and <code>obs</code>); if NULL (default), will be
guessed from the given observation</p></dd>


<dt id="arg-coord-dims">coord_dims<a class="anchor" aria-label="anchor" href="#arg-coord-dims"></a></dt>
<dd><p>The coord dimension(s) in any <code>obs</code> R objects that
have been passed; if NULL (default), will be guessed from the given
observation file given</p></dd>


<dt id="arg-thin">thin<a class="anchor" aria-label="anchor" href="#arg-thin"></a></dt>
<dd><p>any thinning of MCMC chains (1 means all will be kept, 2 skips
every other sample etc.); note that <code>LibBi</code> itself will write all data
to the disk. Only when the results are read in with <code><a href="bi_read.html">bi_read</a></code>
will thinning be applied.</p></dd>


<dt id="arg-output-every">output_every<a class="anchor" aria-label="anchor" href="#arg-output-every"></a></dt>
<dd><p>real; if given, <code>noutputs</code> will be set so that there
is output every <code>output_every</code> time steps; if set to 0, only generate
an output at the final time</p></dd>


<dt id="arg-chain">chain<a class="anchor" aria-label="anchor" href="#arg-chain"></a></dt>
<dd><p>logical; if set to TRUE and <code>x</code> has been run before, the
previous output file will be used as <code>init</code> file, and <code>init-np</code>
will be set to the last iteration of the previous run (unless
target=="prediction"). This is useful for running inference chains.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>Either a number (the seed to supply to <code>LibBi</code>), or a
logical variable: TRUE if a seed is to be generated for <code>RBi</code>, FALSE
if <code>LibBi</code> is to generate its own seed</p></dd>


<dt id="arg-debug">debug<a class="anchor" aria-label="anchor" href="#arg-debug"></a></dt>
<dd><p>logical; if TRUE, print more verbose messages and write all
variables to the output file, irrespective of their setting of 'has_output'</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>list of additional arguments to pass to the call to <code>LibBi</code>.
Any arguments starting with `enable`/`disable` can be specified as boolean
(e.g., `assert=TRUE` or `cuda=TRUE`). Any `dry-` options can be specified
with a `"dry"` argument, e.g., `dry="parse"`. Any options that would be
specified with `with`/`without` can be specified as character vector to an
option named `with`/`without`, respectively, e.g.
with="transform-obs-to-state".</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>an updated <code><a href="libbi.html">libbi</a></code> object, except if <code>client</code> is
  'rewrite', in which case invisible NULL will be returned but the rewritten
  model code printed</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="libbi.html">libbi</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Pierre E. Jacob, Sebastian Funk.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

